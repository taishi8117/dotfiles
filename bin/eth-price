#!/bin/bash
# made by chatgpt

# Make a GET request to Coingecko's API to fetch the current price of Ethereum in USD
price_res=$(curl -s -H "Accept: application/json" "https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd")

# Extract the Ethereum price from the JSON response
eth_price=$(echo $price_res | jq -r '.ethereum.usd')

block_height=$(curl -s https://api.blockcypher.com/v1/eth/main | jq .height)

# Check if the Ethereum price is null or empty (i.e., the API returned an error)
if [ -z "$eth_price" ] || [ "$eth_price" = "null" ]; then
  echo ""
else
  # Print the Ethereum price
  echo "Îž $block_height @ \$$eth_price"
  #echo "The current price of Ethereum is: $eth_price USD"
fi
